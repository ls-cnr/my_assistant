# Diario di Sviluppo: Assistente Personale con Avatar 3D - Parte III

## Implementazione e Test del Componente Rhubarb Lip Sync

Dopo aver implementato con successo il componente ElevenLabs per la sintesi vocale, il focus si è spostato sull'integrazione di Rhubarb Lip Sync, un elemento fondamentale per la sincronizzazione labiale dell'avatar 3D.

### Configurazione dell'Ambiente di Sviluppo

Durante l'installazione e la configurazione di Rhubarb Lip Sync è emerso che Rhubarb Lip Sync richiede la presenza di ffmpeg per la conversione dei formati audio. Questo componente non era presente nel sistema, quindi è stato necessario installarlo.

### Sviluppo dello Script di Test per Rhubarb

Per testare il componente Rhubarb Lip Sync, ho sviluppato lo script `test_rhubarb.py` che:
- Riceve un file audio in formato MP3 come input
- Esegue la conversione da MP3 a WAV (il formato richiesto da Rhubarb)
- Richiama Rhubarb Lip Sync per generare i dati di sincronizzazione labiale

### Riconoscitore Vocale PocketSphinx

Durante i test è emerso un problema significativo: il riconoscitore vocale predefinito di Rhubarb (PocketSphinx) non riusciva a trovare i file di dizionario necessari. L'errore specifico indicava che il file `cmudict-en-us.dict` non era presente nella directory `res/sphinx/`.

Questo problema è stato risolto assicurando che tutti i file necessari fossero stati estratti correttamente dall'archivio di Rhubarb

Tuttavia questo problema ha dato lo spunto per valutare il riconoscitore fonetico come alternativa a PocketSphinx.

L'uso del riconoscitore fonetico è supportato dalla documentazione di Rhubarb, che indica chiaramente che PocketSphinx è ottimizzato per l'inglese, mentre il riconoscitore fonetico è più adatto alle altre lingue, incluso l'italiano.

Pertanto è stato sviluppato un secondo script di test, `test_rhubarb_with_phonetic.py`, ottimizzato specificamente per l'uso del riconoscitore fonetico, che funziona con tutte le lingue.

Nota: ricordiamoci di valutare entrambi gli script quando avremo il modello 3D dell'avatar.
